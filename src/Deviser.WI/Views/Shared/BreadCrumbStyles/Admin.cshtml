@model List<Deviser.Core.Data.Entities.Page>
@using AppContext = Deviser.Core.Library.AppContext;
@using System.Security.Claims
@using Deviser.Core.Library
@{
    Layout = null;
    AppContext deviserContext = (AppContext)ViewBag.AppContext;  //HttpContext.Current.Session["AppContext"];
}

<ul class="page-breadcrumb">
    @foreach (var page in Model)
    {
        var translation = page.PageTranslation.FirstOrDefault(t => t.Locale == deviserContext.CurrentCulture.ToString());
        if (translation != null)
        {
            translation.URL = Globals.SiteRoot + translation.URL;
            <li>
                @if (Model.First() == page)
                {
                    <i class="fa fa-home"></i>
                }

                <a href="@translation.URL">@translation.Name</a>

                @if (Model.Last() != page)
                {
                    <i class="fa fa-angle-right"></i>
                }
            </li>
        }
    }
</ul>